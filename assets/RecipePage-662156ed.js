import{j as e,u as N,r}from"./index-61d7eccf.js";import{a as b,u as v,B as w,R}from"./index-330a2d3a.js";import"./LazyImage-7741fe87.js";function x({value:a,title:s}){const t=Math.round(a);return e.jsxs("div",{className:"flex flex-col gap-2 text-center",children:[e.jsx("div",{className:"border border-gray-500 rounded-full py-1 px-4",children:t}),e.jsx("span",{className:"uppercase text-neutral-100 text-[12px] md:text-md px-2",children:s})]})}function L({ingredientLines:a}){return e.jsxs("section",{className:"p-4 flex flex-col",children:[e.jsx("p",{className:"text-primary text-2xl underline pb-4",children:"Ingredients"}),e.jsx("ul",{className:"flex flex-col gap-2",children:a.map(s=>e.jsxs("li",{className:"flex items-center gap-3 ",children:[e.jsx("div",{className:"min-w-1 min-h-1 h-1 w-1 bg-primary rounded-full"}),e.jsx("p",{className:"text-xl",children:s})]},s))})]})}function T({healthLabels:a}){return e.jsxs("section",{className:"py-4",children:[e.jsx("p",{className:"text-primary text-2xl underline pb-4",children:"Health Labels"}),e.jsx("ul",{className:"flex flex-wrap gap-2",children:a.map(s=>e.jsxs("li",{className:"flex justify-center items-center gap-1 bg-gray-500 rounded-full px-3",children:[e.jsx("div",{className:"min-w-2 min-h-2 h-2 w-2 bg-primary"}),e.jsx("span",{className:"text-xl text-center",children:s})]},s))})]})}const E=async a=>{const s=`https://api.edamam.com/search?r=http://www.edamam.com/ontologies/edamam.owl%23${a}&app_id=2e77722c&app_key=0cd95f38724675c04a72e0f159668f03`;try{return await(await fetch(s)).json()}catch(t){console.log(t)}};function P(){const{id:a}=N(),[s,t]=r.useState({}),[i,d]=r.useState({query:"",limit:b}),{recipesData:c}=v(i);r.useEffect(()=>{a&&p(a)},[a]);const p=async l=>{const y=await E(l);t(y[0])},{image:o,label:m,calories:u,totalTime:f,yield:h,ingredientLines:j,healthLabels:g,cuisineType:n}=s;return r.useEffect(()=>{n&&d({...i,query:n[0]})},[n]),e.jsx(e.Fragment,{children:s&&Object.keys(s).length!==0&&e.jsxs(e.Fragment,{children:[e.jsx(w,{image:o,title:m}),e.jsxs("div",{className:"flex justify-center items-center gap-4 py-4",children:[e.jsx(x,{value:u,title:"calories"}),e.jsx(x,{value:f,title:"total time"}),e.jsx(x,{value:h,title:"portion"})]}),e.jsxs("div",{className:"my-6 grid grid-cols-1 md:grid-cols-2 gap-2",children:[e.jsxs("div",{className:"flex-1 flex flex-col gap-4 px-4 border-r border-gray-500",children:[e.jsx(L,{ingredientLines:j}),e.jsx(T,{healthLabels:g})]}),c&&c.length>0&&e.jsxs("div",{className:"flex-1 flex flex-col gap-4 px-4 ",children:[e.jsx("p",{className:"text-white text-2xl",children:"Also Try This"}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:c.map(l=>e.jsx("div",{children:e.jsx(R,{recipe:l.recipe})},l.recipe.uri))})]})]})]})})}export{P as default};
